
@{
    ViewBag.Title = "CategoryPostListMag";
    Layout = "~/Views/Shared/HomeLayoutMag.cshtml";
}

@model DTO.GeneralDTO

<!-- ##### Archive Post Area Start ##### -->
<div class="archive-post-area">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-xl-8">
                <div class="archive-posts-area bg-white p-30 mb-30 box-shadow">

                    @if (Model.Videos != null && Model.Videos.Count != 0)
                    {
                        foreach (var item in Model.Videos)
                        {
                            <div class="row align-items-center">
                                <div class="col-12 col-md-6">
                                    @Html.Raw(item.VideoPath)
                                </div>

                                <div class="col-12 col-md-6">
                                    <div class="post-content">
                                        <div class="post-meta">
                                            <a href="#">@item.AddDate.ToString("dd.mm.yyyy dddd")</a>
                                        </div>
                                        <a href=@item.OriginalVideoPath class="post-title" target="_blank">@item.Title</a>
                                    </div>
                                </div>
                                <div class="single-catagory-post d-flex flex-wrap">
                                </div>
                            </div>  
                        }
                    }
                    else
                    {
                        foreach (var item in Model.CategoryPostList)
                        {
                            <div class="single-catagory-post d-flex flex-wrap">
                                <!-- Thumbnail -->
                                <div class="post-thumbnail bg-img" style="background-image: url(/Areas/Admin/Content/PostImage/@item.ImagePath);">
                                </div>

                                <!-- Post Contetnt -->
                                <div class="post-content">
                                    <div class="post-meta">
                                        <a href="#">@item.AddDate.ToString("dd.mm.yyyy dddd")</a>
                                    </div>
                                    <a href="@Url.RouteUrl("PostDetailMag", new { @ID=item.ID, @CategoryName=BLL.SeoLink.GenerateUrl(item.CategoryName), @SeoLink=item.SeoLink})" class="post-title">@item.Title</a>
                                    <!-- Post Meta -->
                                    <div class="post-meta-2">
                                        <a href="#"><i class="fa fa-eye" aria-hidden="true"></i>@item.ViewCount</a>
                                        <a href="#"><i class="fa fa-comments-o" aria-hidden="true"></i>@item.CommentCount</a>
                                    </div>
                                    <p>@item.ShortContent</p>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>

            <!-- Sidebar Widget -->
            <div class="col-12 col-md-6 col-lg-5 col-xl-4">
                <div class="sidebar-area bg-white mb-30 box-shadow">
                    <!-- Sidebar Widget -->
                    <div class="single-sidebar-widget p-30">
                        <div class="single-sidebar-widget p-30">
                            <!-- Section Title -->
                            <div class="section-heading">
                                <h5>Breaking Posts</h5>
                            </div>
                            @foreach (var item in Model.BreakingPosts)
                            {
                                <!-- Single Blog Post -->
                                <div class="single-blog-post d-flex">
                                    <div class="post-thumbnail">
                                        <a href="@Url.RouteUrl("PostDetailMag", new { @ID=item.ID, @CategoryName=BLL.SeoLink.GenerateUrl(item.CategoryName), @SeoLink=item.SeoLink})">
                                            <img src="~/Areas/Admin/Content/PostImage/@item.ImagePath">
                                        </a>
                                    </div>
                                    <div class="post-content">
                                        <a href="@Url.RouteUrl("PostDetailMag", new { @ID=item.ID, @CategoryName=BLL.SeoLink.GenerateUrl(item.CategoryName), @SeoLink=item.SeoLink})" class="post-title">@item.Title</a>
                                        <div class="post-meta d-flex justify-content-between">
                                            <a href="#"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i>@item.ViewCount</a>
                                            <a href="#"><i class="fa fa-comments-o" aria-hidden="true"></i>@item.CommentCount</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="single-sidebar-widget p-30">
                        <a href="@Model.Adslist[0].Link">
                            <img src="~/Areas/Admin/Content/AdsImage/@Model.Adslist[0].ImagePath" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ##### Archive Post Area End ##### -->
